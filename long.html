<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>long</title>
    <!-- css -->
    <link rel="stylesheet" href="./css/long.css">
    <!-- script -->
    <script src="https://cdn.bootcdn.net/ajax/libs/jquery/3.7.1/jquery.js"></script>
    <script>
        $(function () {
            // #####定义获取url参数的方法#####
            $.getUrlParam = function (name) {
                var reg = new RegExp("(^|&)" + name + "=([^&]*)(&|$)");
                var r = window.location.search.substr(1).match(reg);
                if (r != null) return unescape(r[2]);
                return null;
            }

            // #####获取url参数#####
            let currId = parseInt($.getUrlParam("id"));
            console.log(currId)

            $(".long").each(function (index, img) {
                if (index === currId) {
                    img.style.setProperty('display', 'block', 'important');
                    $("#l1").css('display', 'block', 'important');
                    $("#l2").css('display', 'none', 'important');
                    $("#front-btn").css('visibility', 'hidden', 'important');
                    return false;
                } else if (index === currId - 1) {
                    console.log(index, img);
                    img.style.setProperty('display', 'block', 'important');
                } else {
                    img.style.setProperty('display', 'none', 'important');
                }
            });

            if (currId === 1) {
                $(".front-btn").css("visibility", "hidden");
                $(".back1-btn").css("visibility", "hidden");
            }
        })
    </script>
</head>
<body>
<a href="javascript:void(0)" class="back-btn" id="back-btn" onclick="backClick()"><img src="images/back-btn.png" alt=""></a>
<script>
    function backClick() {
        let slide = $("#slide-sec", window.parent.document);
        let myIframe = $("#my-iframe", window.parent.document);
        slide.css('visibility', 'hidden', 'important');
        myIframe.removeAttr("src");
    }
</script>

<!-- 前进按钮 -->
<a href="javascript:void(0)" class="front-btn" id="front-btn" onclick="fClick()"><img src="images/front-btn.png"></a>
<script>
    function fClick() {
        $(".long").each(function (index, img) {
            if (img.style.display === "block") {
                index = index + 1;
                console.log("前进", index, img);
                if (index === 2) {
                    $("#back1-btn").css('visibility', 'visible', 'important');
                } else if (index === 5) {
                    $("#front-btn").css('visibility', 'hidden', 'important');
                }
                $("#l" + index).css('display', 'none', 'important');
                $("#l" + (index + 1)).css('display', 'block', 'important');
                return false;
            }
        });
    }
</script>

<!-- 返回按钮 -->
<a href="javascript:void(0)" class="back1-btn" id="back1-btn" onclick="back1Click()"><img src="images/back-btn.png"></a>
<script>
    function back1Click() {
        $(".long").each(function (index, img) {
            if (img.style.display === "block") {
                console.log("后退", index, img);
                if (index === 6) {
                    $("#front-btn").css('visibility', 'visible', 'important');
                } else if (index === 3) {
                    $("#back1-btn").css('visibility', 'hidden', 'important');
                }
                $("#l" + index).css('display', 'none', 'important');
                $("#l" + (index - 1)).css('display', 'block', 'important');
                return false;
            }
        });
    }
</script>

<img src="images/long/long1.png" id="l1" class="long" alt="">
<img src="images/long/long2.png" id="l2" class="long" alt="">
<img src="images/long/long3.jpg" id="l3" class="long" alt="">
<img src="images/long/long4.jpg" id="l4" class="long" alt="">
<img src="images/long/long5.jpg" id="l5" class="long" alt="">
<img src="images/long/long6.jpg" id="l6" class="long" alt="">
</body>
</html>